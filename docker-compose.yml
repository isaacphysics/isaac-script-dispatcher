version: '3.8'

services:
  server:
    container_name: isaac-script-dispatcher
    build:
      context: .
      args:
        GITHUB_WEBHOOK_SECRET: ${GITHUB_WEBHOOK_SECRET}
        GITHUB_API_SECRET: ${GITHUB_API_SECRET}
        GITHUB_APP_IDENTIFIER: ${GITHUB_APP_IDENTIFIER}
        GITHUB_INSTALLATION_ID: ${GITHUB_INSTALLATION_ID}
    image: isaac-script-dispatcher
    ports:
      - "5000:5000"
    volumes:
      - ./scripts:/app/scripts
      - ${APP_PRIVATE_KEY_PATH}:/app/key.pem
